<!DOCTYPE html>
<html lang="fr"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script src="Guide%20des%20Registres%20x86-64_files/html-to-image.min.js" integrity="sha512-iZ2ORl595Wx6miw+GuadDet4WQbdSWS3JLMoNfY8cRGoEFy6oT3G9IbcrBeL6AfkgpA51ETt/faX6yLV+/gFJg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      (function() {
        const originalConsole = window.console;
        window.console = {
          log: (...args) => {
            originalConsole.log(...args);
            window.parent.postMessage({ type: 'console', message: args.join(' ') }, '*');
          },
          error: (...args) => {
            originalConsole.error(...args);
            window.parent.postMessage({ type: 'console', message: 'Error: ' + args.join(' ') }, '*');
          },
          warn: (...args) => {
            originalConsole.warn(...args);
            window.parent.postMessage({ type: 'console', message: 'Warning: ' + args.join(' ') }, '*');
          }
        };

        let requestId = 0;
        let callbacksMap = new Map();
        window.claude = {
          complete: (prompt) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'claudeComplete', id, prompt }, '*');
            });
          }
        };

        let pendingBlobs = new Map();
        URL.createObjectURL = (blob) => {
          // Store the blob and create an ID and URL for it
          const blobId = `blob-${Date.now()}-${Math.random()}`;
          pendingBlobs.set(blobId, blob);
          return `blob-request://${blobId}`;
        };

        URL.revokeObjectURL = (url) => {
          // Remove the blob from our store
          const blobId = url.replace("blob-request://", "");
          pendingBlobs.delete(blobId);
        };

        const getBlobFromURL = (url) => {
          const blobId = url.replace("blob-request://", "");
          return pendingBlobs.get(blobId);
        };

        // Override global fetch
        window.fetch = (url, init = {}) => {
          return new Promise((resolve, reject) => {
            const id = requestId++;
            callbacksMap.set(id, { resolve, reject });
            window.parent.postMessage({
              type: 'proxyFetch',
              id,
              url,
              init,
            }, '*');
          });
        };

        window.addEventListener('message', async (event) => {
          if (event.data.type === 'takeScreenshot') {
            const rootElement = document.getElementById('artifacts-component-root-html');
            if (!rootElement) {
              window.parent.postMessage({
                type: 'screenshotError',
                error: new Error('Root element not found'),
              }, '*');
            }
            const screenshot = await htmlToImage.toPng(rootElement, {
              imagePlaceholder:
                "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjePDgwX8ACOQDoNsk0PMAAAAASUVORK5CYII=",
            });
            window.parent.postMessage({
              type: 'screenshotData',
              data: screenshot,
            }, '*');
          } else if (event.data.type === 'claudeComplete') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.completion);
            }
            callbacksMap.delete(event.data.id);
          } else if (event.data.type === 'proxyFetchResponse') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(new Response(event.data.body, {
                status: event.data.status,
                statusText: event.data.statusText,
                headers: event.data.headers
              }));
            }
            callbacksMap.delete(event.data.id);
          }
        });

        window.addEventListener('click', (event) => {
          const isEl = event.target instanceof HTMLElement;
          if (!isEl) return;
    
          // find ancestor links
          const linkEl = event.target.closest("a");
          if (!linkEl || !linkEl.href) return;
    
          event.preventDefault();
          event.stopImmediatePropagation();
    
          if (linkEl.href.startsWith("blob-request:")) {
            const blob = getBlobFromURL(linkEl.href);
            if (!blob) return;
            void blob.arrayBuffer().then((data) => {
              window.parent.postMessage({
                type: "downloadFile",
                filename: linkEl.download,
                data,
                mimeType: blob.type || "application/octet-stream",
              });
            });
          } else if (linkEl.href.startsWith("data:")) {
            const [header, base64Data] = linkEl.href.split(",");
            const mimeMatch = header.match(/data:([^;]+)/);
            const mimeType = mimeMatch ? mimeMatch[1] : "application/octet-stream";
            const binaryString = atob(base64Data);
            const data = Uint8Array.from(binaryString, (c) =>
              c.charCodeAt(0),
            ).buffer;
            window.parent.postMessage({
              type: "downloadFile",
              filename: linkEl.download,
              data,
              mimeType,
            });
          } else {
            let linkUrl;
            try {
              linkUrl = new URL(linkEl.href);
            } catch (error) {
              return;
            }
    
            if (linkUrl.hostname === window.location.hostname) return;
      
            window.parent.postMessage({
              type: 'openExternal',
              href: linkEl.href,
            }, '*');
          }
      });

        const originalOpen = window.open;
        window.open = function (url) {
          window.parent.postMessage({
            type: "openExternal",
            href: url,
          }, "*");
        };

        window.addEventListener('error', (event) => {
          window.parent.postMessage({ type: 'console', message: 'Uncaught Error: ' + event.message }, '*');
        });
      })();
    </script>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide des Registres x86-64</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            min-height: 100vh;
            color: #e3e3e3;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #2c2c54;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            border: 1px solid #40407a;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
            background: #40407a;
            border-radius: 12px;
            padding: 25px;
            border-left: 5px solid var(--accent-color);
            border: 1px solid #6c5ce7;
        }
        
        .section h2 {
            color: var(--accent-color);
            margin: 0 0 20px 0;
            font-size: 1.8em;
            font-weight: 600;
        }
        
        .register-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .register-card {
            background: #2c2c54;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #6c5ce7;
            transition: all 0.3s ease;
        }
        
        .register-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(108, 92, 231, 0.3);
            border-color: var(--accent-color);
            background: #353570;
        }
        
        .register-name {
            font-size: 1.4em;
            font-weight: 700;
            color: #e3e3e3;
            margin-bottom: 10px;
        }
        
        .register-sizes {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .size-badge {
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
            color: white;
        }
        
        .b64 { background: #e17055; }
        .b32 { background: #fdcb6e; }
        .b16 { background: #00b894; }
        .b8 { background: #74b9ff; }
        .special { background: #a29bfe; }
        
        .usage {
            color: #b2bec3;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .examples {
            background: #1a1a2e;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #81ecec;
            border-left: 3px solid var(--accent-color);
        }
        
        .examples .comment {
            color: #636e72;
        }
        
        /* Couleurs par section */
        .general { --accent-color: #74b9ff; }
        .index { --accent-color: #fd79a8; }
        .stack { --accent-color: #fdcb6e; }
        .control { --accent-color: #00cec9; }
        .simd { --accent-color: #a29bfe; }
        .flags { --accent-color: #ff7675; }
        
        .flags-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .flag-item {
            background: #2c2c54;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ff7675;
            border: 1px solid #6c5ce7;
        }
        
        .flag-name {
            font-weight: 700;
            color: #ff7675;
            margin-bottom: 5px;
        }
        
        .flag-desc {
            color: #b2bec3;
            font-size: 0.9em;
        }
        
        .legend {
            background: #1a1a2e;
            color: #e3e3e3;
            padding: 25px;
            text-align: center;
            border-top: 1px solid #40407a;
        }
        
        .legend h3 {
            margin: 0 0 15px 0;
        }
        
        .legend-items {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 768px) {
            .register-grid {
                grid-template-columns: 1fr;
            }
            .legend-items {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body id="artifacts-component-root-html">
    <div class="container">
        <div class="header">
            <h1>Registres x86-64</h1>
            <p>Guide complet avec syntaxe Intel et utilisations pratiques</p>
        </div>
        
        <div class="content">
            <!-- Registres généraux -->
            <div class="section general">
                <h2>Registres à Usage Général</h2>
                <div class="register-grid">
                    <div class="register-card">
                        <div class="register-name">RAX - Accumulateur</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RAX</span>
                            <span class="size-badge b32">EAX</span>
                            <span class="size-badge b16">AX</span>
                            <span class="size-badge b8">AL</span>
                            <span class="size-badge b8">AH</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Valeur de retour des fonctions<br>
                            • Opérations arithmétiques<br>
                            • Numéro de syscall
                        </div>
                        <div class="examples">
mov rax, 60     <span class="comment">; syscall exit</span><br>
add rax, rbx    <span class="comment">; addition</span><br>
call fonction   <span class="comment">; retour dans rax</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">RBX - Base</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RBX</span>
                            <span class="size-badge b32">EBX</span>
                            <span class="size-badge b16">BX</span>
                            <span class="size-badge b8">BL</span>
                            <span class="size-badge b8">BH</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Stockage de données générales<br>
                            • Pointeur de base pour tableaux<br>
                            • Préservé à travers les appels
                        </div>
                        <div class="examples">
mov rbx, array_addr  <span class="comment">; pointeur</span><br>
mov rax, [rbx + 8]   <span class="comment">; accès élément</span><br>
push rbx             <span class="comment">; sauvegarde</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">RCX - Compteur</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RCX</span>
                            <span class="size-badge b32">ECX</span>
                            <span class="size-badge b16">CX</span>
                            <span class="size-badge b8">CL</span>
                            <span class="size-badge b8">CH</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Compteur pour les boucles<br>
                            • Répétitions (rep prefix)<br>
                            • Décalages (shift operations)
                        </div>
                        <div class="examples">
mov rcx, 10      <span class="comment">; compteur</span><br>
loop etiquette   <span class="comment">; décrémente rcx</span><br>
shl rax, cl      <span class="comment">; décalage</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">RDX - Données</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RDX</span>
                            <span class="size-badge b32">EDX</span>
                            <span class="size-badge b16">DX</span>
                            <span class="size-badge b8">DL</span>
                            <span class="size-badge b8">DH</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Extension de RAX pour mul/div<br>
                            • Longueur pour syscalls<br>
                            • Données temporaires
                        </div>
                        <div class="examples">
mov rdx, 12      <span class="comment">; longueur</span><br>
mul rbx          <span class="comment">; résultat rdx:rax</span><br>
div rbx          <span class="comment">; quotient rax, reste rdx</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Index et pointeurs -->
            <div class="section index">
                <h2>Registres d'Index &amp; Pointeurs</h2>
                <div class="register-grid">
                    <div class="register-card">
                        <div class="register-name">RSI - Source Index</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RSI</span>
                            <span class="size-badge b32">ESI</span>
                            <span class="size-badge b16">SI</span>
                            <span class="size-badge b8">SIL</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Source pour opérations sur chaînes<br>
                            • 2ème paramètre des syscalls<br>
                            • Pointeur vers données source
                        </div>
                        <div class="examples">
mov rsi, src_string  <span class="comment">; source</span><br>
movsb               <span class="comment">; copie [rsi]→[rdi]</span><br>
mov rsi, buffer     <span class="comment">; syscall write</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">RDI - Destination Index</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RDI</span>
                            <span class="size-badge b32">EDI</span>
                            <span class="size-badge b16">DI</span>
                            <span class="size-badge b8">DIL</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Destination opérations chaînes<br>
                            • 1er paramètre fonctions/syscalls<br>
                            • <strong>TON CAS : paramètre ft_strlen</strong>
                        </div>
                        <div class="examples">
mov rdi, 1           <span class="comment">; stdout</span><br>
mov rdi, test_string <span class="comment">; paramètre</span><br>
call ft_strlen       <span class="comment">; rdi = chaîne</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">R8-R15 - Registres Étendus</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">R8-R15</span>
                            <span class="size-badge b32">R8D-R15D</span>
                            <span class="size-badge b16">R8W-R15W</span>
                            <span class="size-badge b8">R8B-R15B</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Registres additionnels x86-64<br>
                            • Stockage temporaire<br>
                            • Paramètres supplémentaires
                        </div>
                        <div class="examples">
mov r8, rax      <span class="comment">; sauvegarde</span><br>
add r9, r10      <span class="comment">; calculs</span><br>
mov r11, [rbp-8] <span class="comment">; variables locales</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pile -->
            <div class="section stack">
                <h2>Gestion de la Pile</h2>
                <div class="register-grid">
                    <div class="register-card">
                        <div class="register-name">RSP - Stack Pointer</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RSP</span>
                            <span class="size-badge b32">ESP</span>
                            <span class="size-badge b16">SP</span>
                            <span class="size-badge b8">SPL</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Pointe vers le sommet de la pile<br>
                            • Modifié par push/pop/call/ret<br>
                            • ⚠️ <strong>NE JAMAIS modifier directement</strong>
                        </div>
                        <div class="examples">
push rax       <span class="comment">; rsp -= 8</span><br>
pop rbx        <span class="comment">; rsp += 8</span><br>
sub rsp, 16    <span class="comment">; espace local</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">RBP - Base Pointer</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RBP</span>
                            <span class="size-badge b32">EBP</span>
                            <span class="size-badge b16">BP</span>
                            <span class="size-badge b8">BPL</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Pointeur base du cadre<br>
                            • Accès paramètres/variables locales<br>
                            • Sauvegardé en début de fonction
                        </div>
                        <div class="examples">
push rbp         <span class="comment">; prologue</span><br>
mov rbp, rsp     <span class="comment">; établir cadre</span><br>
mov rax, [rbp-8] <span class="comment">; variable locale</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contrôle -->
            <div class="section control">
                <h2>Contrôle d'Exécution</h2>
                <div class="register-grid">
                    <div class="register-card">
                        <div class="register-name">RIP - Instruction Pointer</div>
                        <div class="register-sizes">
                            <span class="size-badge b64">RIP</span>
                            <span class="size-badge b32">EIP</span>
                            <span class="size-badge b16">IP</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Adresse de l'instruction courante<br>
                            • Modifié par jmp/call/ret<br>
                            • ⚠️ Lecture seule
                        </div>
                        <div class="examples">
jmp label    <span class="comment">; modifie rip</span><br>
call func    <span class="comment">; sauve rip, jump</span><br>
ret          <span class="comment">; restaure rip</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SIMD -->
            <div class="section simd">
                <h2>Registres SIMD/Flottants</h2>
                <div class="register-grid">
                    <div class="register-card">
                        <div class="register-name">XMM0-XMM15 (SSE)</div>
                        <div class="register-sizes">
                            <span class="size-badge special">128 bits</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Calculs en virgule flottante<br>
                            • Opérations vectorielles<br>
                            • 4 floats ou 2 doubles simultanés
                        </div>
                        <div class="examples">
movss xmm0, [rax]    <span class="comment">; load float</span><br>
addps xmm0, xmm1     <span class="comment">; add 4 floats</span><br>
cvtsi2ss xmm0, eax   <span class="comment">; int to float</span>
                        </div>
                    </div>
                    
                    <div class="register-card">
                        <div class="register-name">YMM0-YMM15 (AVX)</div>
                        <div class="register-sizes">
                            <span class="size-badge special">256 bits</span>
                        </div>
                        <div class="usage">
                            <strong>Utilisations :</strong><br>
                            • Extensions vectorielles AVX<br>
                            • 8 floats ou 4 doubles simultanés<br>
                            • Calculs haute performance
                        </div>
                        <div class="examples">
vmovps ymm0, [rax]       <span class="comment">; load 8 floats</span><br>
vaddps ymm0, ymm1, ymm2  <span class="comment">; add</span><br>
vzeroupper               <span class="comment">; clear high bits</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Flags -->
            <div class="section flags">
                <h2>Registre RFLAGS</h2>
                <div class="register-card">
                    <div class="register-name">RFLAGS - Registre de Flags</div>
                    <div class="register-sizes">
                        <span class="size-badge b64">RFLAGS</span>
                        <span class="size-badge b32">EFLAGS</span>
                        <span class="size-badge b16">FLAGS</span>
                    </div>
                    <div class="usage">
                        <strong>Modifié automatiquement par les opérations arithmétiques et logiques</strong>
                    </div>
                    
                    <div class="flags-grid">
                        <div class="flag-item">
                            <div class="flag-name">CF - Carry Flag</div>
                            <div class="flag-desc">Dépassement non signé</div>
                        </div>
                        <div class="flag-item">
                            <div class="flag-name">ZF - Zero Flag</div>
                            <div class="flag-desc">Résultat = 0</div>
                        </div>
                        <div class="flag-item">
                            <div class="flag-name">SF - Sign Flag</div>
                            <div class="flag-desc">Résultat négatif</div>
                        </div>
                        <div class="flag-item">
                            <div class="flag-name">OF - Overflow Flag</div>
                            <div class="flag-desc">Dépassement signé</div>
                        </div>
                        <div class="flag-item">
                            <div class="flag-name">PF - Parity Flag</div>
                            <div class="flag-desc">Parité des bits</div>
                        </div>
                        <div class="flag-item">
                            <div class="flag-name">AF - Auxiliary Flag</div>
                            <div class="flag-desc">Retenue bit 3→4</div>
                        </div>
                    </div>
                    
                    <div class="examples">
cmp rax, rbx    <span class="comment">; compare, set flags</span><br>
je equal        <span class="comment">; jump if ZF=1</span><br>
jc overflow     <span class="comment">; jump if CF=1</span><br>
test rax, rax   <span class="comment">; test ZF sans changer rax</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="legend">
            <h3>Légende des Tailles</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <span class="size-badge b64">64 bits</span>
                    <span>Registre complet (R prefix)</span>
                </div>
                <div class="legend-item">
                    <span class="size-badge b32">32 bits</span>
                    <span>Partie basse 32 bits (E prefix)</span>
                </div>
                <div class="legend-item">
                    <span class="size-badge b16">16 bits</span>
                    <span>Partie basse 16 bits</span>
                </div>
                <div class="legend-item">
                    <span class="size-badge b8">8 bits</span>
                    <span>Byte bas (L) ou haut (H)</span>
                </div>
                <div class="legend-item">
                    <span class="size-badge special">SIMD</span>
                    <span>Registres vectoriels</span>
                </div>
            </div>
        </div>
    </div>

</body></html>